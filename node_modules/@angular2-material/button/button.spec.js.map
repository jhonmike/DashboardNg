{"version":3,"file":"button.spec.js","sourceRoot":"","sources":["button.spec.ts"],"names":[],"mappings":"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","sourcesContent":["import {it, describe, expect, beforeEach, inject} from '@angular/core/testing';\nimport {TestComponentBuilder} from '@angular/compiler/testing';\nimport {Component} from '@angular/core';\nimport {By} from '@angular/platform-browser';\nimport {MdButton, MdAnchor} from './button';\n\n\n\nexport function main() {\n  describe('MdButton', () => {\n    let builder: TestComponentBuilder;\n\n    beforeEach(inject([TestComponentBuilder], (tcb: TestComponentBuilder) => {\n      builder = tcb;\n    }));\n\n    // General button tests\n    it('should apply class based on color attribute', (done: () => void) => {\n      return builder.createAsync(TestApp).then(fixture => {\n        let testComponent = fixture.debugElement.componentInstance;\n        let buttonDebugElement = fixture.debugElement.query(By.css('button'));\n        let aDebugElement = fixture.debugElement.query(By.css('a'));\n\n        testComponent.buttonColor = 'primary';\n        fixture.detectChanges();\n        expect(buttonDebugElement.nativeElement.classList.contains('md-primary')).toBe(true);\n        expect(aDebugElement.nativeElement.classList.contains('md-primary')).toBe(true);\n\n        testComponent.buttonColor = 'accent';\n        fixture.detectChanges();\n        expect(buttonDebugElement.nativeElement.classList.contains('md-accent')).toBe(true);\n        expect(aDebugElement.nativeElement.classList.contains('md-accent')).toBe(true);\n        done();\n      });\n    });\n\n    it('should should not clear previous defined classes', (done: () => void) => {\n      return builder.createAsync(TestApp).then(fixture => {\n        let testComponent = fixture.debugElement.componentInstance;\n        let buttonDebugElement = fixture.debugElement.query(By.css('button'));\n\n        buttonDebugElement.nativeElement.classList.add('custom-class');\n\n        testComponent.buttonColor = 'primary';\n        fixture.detectChanges();\n\n        expect(buttonDebugElement.nativeElement.classList.contains('md-primary')).toBe(true);\n        expect(buttonDebugElement.nativeElement.classList.contains('custom-class')).toBe(true);\n\n        testComponent.buttonColor = 'accent';\n        fixture.detectChanges();\n\n        expect(buttonDebugElement.nativeElement.classList.contains('md-primary')).toBe(false);\n        expect(buttonDebugElement.nativeElement.classList.contains('md-accent')).toBe(true);\n        expect(buttonDebugElement.nativeElement.classList.contains('custom-class')).toBe(true);\n\n        done();\n      });\n    });\n\n    // Regular button tests\n    describe('button[md-button]', () => {\n      it('should handle a click on the button', (done: () => void) => {\n        return builder.createAsync(TestApp).then(fixture => {\n          let testComponent = fixture.debugElement.componentInstance;\n          let buttonDebugElement = fixture.debugElement.query(By.css('button'));\n\n          buttonDebugElement.nativeElement.click();\n          expect(testComponent.clickCount).toBe(1);\n          done();\n        });\n      });\n\n      it('should not increment if disabled', (done: () => void) => {\n        return builder.createAsync(TestApp).then(fixture => {\n          let testComponent = fixture.debugElement.componentInstance;\n          let buttonDebugElement = fixture.debugElement.query(By.css('button'));\n\n          testComponent.isDisabled = true;\n          fixture.detectChanges();\n\n          buttonDebugElement.nativeElement.click();\n\n          expect(testComponent.clickCount).toBe(0);\n          done();\n        });\n      });\n\n    });\n\n    // Anchor button tests\n    describe('a[md-button]', () => {\n      it('should not redirect if disabled', (done: () => void) => {\n        return builder.createAsync(TestApp).then(fixture => {\n          let testComponent = fixture.debugElement.componentInstance;\n          let buttonDebugElement = fixture.debugElement.query(By.css('a'));\n\n          testComponent.isDisabled = true;\n          fixture.detectChanges();\n\n          buttonDebugElement.nativeElement.click();\n          // will error if page reloads\n          done();\n        });\n      });\n\n      it('should remove tabindex if disabled', (done: () => void) => {\n        return builder.createAsync(TestApp).then(fixture => {\n          let testComponent = fixture.debugElement.componentInstance;\n          let buttonDebugElement = fixture.debugElement.query(By.css('a'));\n          expect(buttonDebugElement.nativeElement.getAttribute('tabIndex')).toBe(null);\n\n          testComponent.isDisabled = true;\n          fixture.detectChanges();\n          expect(buttonDebugElement.nativeElement.getAttribute('tabIndex')).toBe('-1');\n          done();\n        });\n      });\n\n      it('should add aria-disabled attribute if disabled', (done: () => void) => {\n        return builder.createAsync(TestApp).then(fixture => {\n          let testComponent = fixture.debugElement.componentInstance;\n          let buttonDebugElement = fixture.debugElement.query(By.css('a'));\n          fixture.detectChanges();\n          expect(buttonDebugElement.nativeElement.getAttribute('aria-disabled')).toBe('false');\n\n          testComponent.isDisabled = true;\n          fixture.detectChanges();\n          expect(buttonDebugElement.nativeElement.getAttribute('aria-disabled')).toBe('true');\n          done();\n        });\n      });\n\n    });\n  });\n}\n\n/** Test component that contains an MdButton. */\n@Component({\n  selector: 'test-app',\n  template: `\n    <button md-button type=\"button\" (click)=\"increment()\"\n      [disabled]=\"isDisabled\" [color]=\"buttonColor\">\n      Go\n    </button>\n    <a href=\"http://www.google.com\" md-button [disabled]=\"isDisabled\" [color]=\"buttonColor\">Link</a>\n  `,\n  directives: [MdButton, MdAnchor]\n})\nclass TestApp {\n  clickCount: number = 0;\n  isDisabled: boolean = false;\n\n  increment() {\n    this.clickCount++;\n  }\n}\n"]}